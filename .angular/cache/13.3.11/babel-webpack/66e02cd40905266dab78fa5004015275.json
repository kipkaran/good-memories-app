{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/material/snack-bar\";\nimport * as i3 from \"@angular/material/card\";\nexport let LoginComponent = /*#__PURE__*/(() => {\n  class LoginComponent {\n    constructor(router, snackBar) {\n      this.router = router;\n      this.snackBar = snackBar;\n    }\n\n    ngOnInit() {\n      // initializes google sign in\n      google.accounts.id.initialize({\n        client_id: '46294703699-ln5sb3jvlehgdgp6f32d9den0ds97muh.apps.googleusercontent.com',\n        callback: resp => this.handlingLogIn(resp)\n      }); // this renders the google sign in button\n\n      google.accounts.id.renderButton(document.getElementById(\"google-btn\"), {\n        theme: 'filled_blue',\n        size: 'large',\n        shape: 'rectagle'\n      });\n    } // this decodes the token\n\n\n    decodeToken(token) {\n      return JSON.parse(atob(token.split(\".\")[1]));\n    } //this method handles the log in and gives sucessfull or \n\n\n    handlingLogIn(response) {\n      try {\n        if (response && response.credential) {\n          const payload = this.decodeToken(response.credential);\n          sessionStorage.setItem(\"loggedInUser\", JSON.stringify(payload));\n          this.snackBar.open('Login successful!', 'Close', {\n            duration: 5000,\n            horizontalPosition: 'center',\n            verticalPosition: 'top'\n          });\n          this.router.navigate(['users']);\n        } else {\n          throw new Error('Invalid login response');\n        }\n      } catch (error) {\n        this.snackBar.open('Login failed. Please try again.', 'Close', {\n          duration: 5000,\n          horizontalPosition: 'center',\n          verticalPosition: 'top',\n          panelClass: ['error-snackbar']\n        });\n        console.error('Login error:', error);\n      }\n    }\n\n  }\n\n  LoginComponent.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.MatSnackBar));\n  };\n\n  LoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginComponent,\n    selectors: [[\"app-login\"]],\n    decls: 15,\n    vars: 0,\n    consts: [[1, \"login-container\"], [\"id\", \"google-btn\", 1, \"login-buttons\"], [1, \"terms\"], [1, \"reset-password\"], [\"href\", \"\"], [1, \"sign-up\"]],\n    template: function LoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"mat-card\", 0)(1, \"mat-card-title\");\n        i0.ɵɵtext(2, \"Log In\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"mat-card-content\");\n        i0.ɵɵelement(4, \"div\", 1);\n        i0.ɵɵelementStart(5, \"p\", 2);\n        i0.ɵɵtext(6, \"By 'logging in', you are agreeing to terms and services of Good Memories.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"p\", 3);\n        i0.ɵɵtext(8, \"Forgot password?\");\n        i0.ɵɵelementStart(9, \"a\", 4);\n        i0.ɵɵtext(10, \"Reset\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(11, \"p\", 5);\n        i0.ɵɵtext(12, \"Do you have an account? \");\n        i0.ɵɵelementStart(13, \"a\", 4);\n        i0.ɵɵtext(14, \"Sign up\");\n        i0.ɵɵelementEnd()()()();\n      }\n    },\n    directives: [i3.MatCard, i3.MatCardTitle, i3.MatCardContent],\n    styles: [\".login-container[_ngcontent-%COMP%]{max-width:350px;margin:1rem auto;text-align:center;color:#3d0146;background:rgba(255,255,255,.4);border-radius:16px;box-shadow:0 4px 30px #0000001a;backdrop-filter:blur(7.4px);-webkit-backdrop-filter:blur(7.4px);border:1px solid rgba(255,255,255,.3)}.login-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:500;padding:.5rem}.login-container[_ngcontent-%COMP%]   .login-buttons[_ngcontent-%COMP%]{margin:1rem auto}.login-container[_ngcontent-%COMP%]   .login-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:43%}.login-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:1rem}.login-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{text-decoration:underline}\"]\n  });\n  return LoginComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}